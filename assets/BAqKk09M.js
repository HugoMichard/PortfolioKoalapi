import{y as W,ac as ze,i as ce,r as Ne,ad as Oe,_ as Y,w as he,s as fe,l as ke,m as ne,J as Ie,I as ue,ae as Ae,af as Re,B as Ee,C as Be,E as D,ab as Me,ag as Ve,a4 as He,ah as Fe,ai as Pe,aj as De,ak as We,A as U,R as q,H as Xe,K as Ye,al as Ke,T as je}from"./XKNHzwnM.js";import{y as S,K as Ze,z as K,x as _,o as h,c as I,C as F,D as v,u as n,O as G,aB as ye,r as T,aC as qe,Z as Ue,g as ge,J as Se,G as xe,M as _e,b as w,w as B,a as L,a5 as Ge,P as M,I as de,N as Je,W as Qe,a3 as et,a4 as tt,a8 as nt,am as at,a2 as st,t as rt,U as ot,v as it,q as lt}from"./B_1VrDI9.js";const ct=(e,s)=>{if(!W||!e||!s)return!1;const t=e.getBoundingClientRect();let a;return s instanceof Element?a=s.getBoundingClientRect():a={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},t.top<a.bottom&&t.bottom>a.top&&t.right>a.left&&t.left<a.right};var ut=/\s/;function dt(e){for(var s=e.length;s--&&ut.test(e.charAt(s)););return s}var ft=/^\s+/;function mt(e){return e&&e.slice(0,dt(e)+1).replace(ft,"")}var we=NaN,vt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^0o[0-7]+$/i,_t=parseInt;function be(e){if(typeof e=="number")return e;if(ze(e))return we;if(ce(e)){var s=typeof e.valueOf=="function"?e.valueOf():e;e=ce(s)?s+"":s}if(typeof e!="string")return e===0?e:+e;e=mt(e);var t=pt.test(e);return t||gt.test(e)?_t(e.slice(2),t?2:8):vt.test(e)?we:+e}var ve=function(){return Ne.Date.now()},ht="Expected a function",yt=Math.max,wt=Math.min;function bt(e,s,t){var a,l,f,c,p,b,A=0,$=!1,g=!1,V=!0;if(typeof e!="function")throw new TypeError(ht);s=be(s)||0,ce(t)&&($=!!t.leading,g="maxWait"in t,f=g?yt(be(t.maxWait)||0,s):f,V="trailing"in t?!!t.trailing:V);function y(u){var x=a,C=l;return a=l=void 0,A=u,c=e.apply(C,x),c}function k(u){return A=u,p=setTimeout(z,s),$?y(u):c}function d(u){var x=u-b,C=u-A,j=s-x;return g?wt(j,f-C):j}function P(u){var x=u-b,C=u-A;return b===void 0||x>=s||x<0||g&&C>=f}function z(){var u=ve();if(P(u))return X(u);p=setTimeout(z,d(u))}function X(u){return p=void 0,V&&a?y(u):(a=l=void 0,c)}function J(){p!==void 0&&clearTimeout(p),A=0,a=b=l=p=void 0}function Q(){return p===void 0?c:X(ve())}function H(){var u=ve(),x=P(u);if(a=arguments,l=this,b=u,x){if(p===void 0)return k(b);if(g)return clearTimeout(p),p=setTimeout(z,s),y(b)}return p===void 0&&(p=setTimeout(z,s)),c}return H.cancel=J,H.flush=Q,H}var kt="Expected a function";function pe(e,s,t){var a=!0,l=!0;if(typeof e!="function")throw new TypeError(kt);return ce(t)&&(a="leading"in t?!!t.leading:a,l="trailing"in t?!!t.trailing:l),bt(e,s,{leading:a,maxWait:s,trailing:l})}const It=(e,s)=>{if(!W)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(s)],a=Oe(e,t);return["scroll","auto","overlay"].some(l=>a.includes(l))},Et=(e,s)=>{if(!W)return;let t=e;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(It(t,s))return t;t=t.parentNode}return t},St=S({name:"ElContainer"}),xt=S({...St,props:{direction:{type:String}},setup(e){const s=e,t=Ze(),a=K("container"),l=_(()=>s.direction==="vertical"?!0:s.direction==="horizontal"?!1:t&&t.default?t.default().some(c=>{const p=c.type.name;return p==="ElHeader"||p==="ElFooter"}):!1);return(f,c)=>(h(),I("section",{class:v([n(a).b(),n(a).is("vertical",n(l))])},[F(f.$slots,"default")],2))}});var Ct=Y(xt,[["__file","container.vue"]]);const Lt=S({name:"ElAside"}),Tt=S({...Lt,props:{width:{type:String,default:null}},setup(e){const s=e,t=K("aside"),a=_(()=>s.width?t.cssVarBlock({width:s.width}):{});return(l,f)=>(h(),I("aside",{class:v(n(t).b()),style:G(n(a))},[F(l.$slots,"default")],6))}});var Ce=Y(Tt,[["__file","aside.vue"]]);const $t=S({name:"ElFooter"}),zt=S({...$t,props:{height:{type:String,default:null}},setup(e){const s=e,t=K("footer"),a=_(()=>s.height?t.cssVarBlock({height:s.height}):{});return(l,f)=>(h(),I("footer",{class:v(n(t).b()),style:G(n(a))},[F(l.$slots,"default")],6))}});var Le=Y(zt,[["__file","footer.vue"]]);const Nt=S({name:"ElHeader"}),Ot=S({...Nt,props:{height:{type:String,default:null}},setup(e){const s=e,t=K("header"),a=_(()=>s.height?t.cssVarBlock({height:s.height}):{});return(l,f)=>(h(),I("header",{class:v(n(t).b()),style:G(n(a))},[F(l.$slots,"default")],6))}});var Te=Y(Ot,[["__file","header.vue"]]);const At=S({name:"ElMain"}),Rt=S({...At,setup(e){const s=K("main");return(t,a)=>(h(),I("main",{class:v(n(s).b())},[F(t.$slots,"default")],2))}});var $e=Y(Rt,[["__file","main.vue"]]);const tn=he(Ct,{Aside:Ce,Footer:Le,Header:Te,Main:$e}),nn=fe(Ce);fe(Le);const an=fe(Te),sn=fe($e),Bt=ke({urlList:{type:ne(Array),default:()=>Ie([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ne(String),default:"anonymous"}}),Mt={close:()=>!0,switch:e=>ue(e),rotate:e=>ue(e)},Vt=["src","crossorigin"],Ht=S({name:"ElImageViewer"}),Ft=S({...Ht,props:Bt,emits:Mt,setup(e,{expose:s,emit:t}){const a=e,l={CONTAIN:{name:"contain",icon:ye(Ae)},ORIGINAL:{name:"original",icon:ye(Re)}},{t:f}=Ee(),c=K("image-viewer"),{nextZIndex:p}=Be(),b=T(),A=T([]),$=qe(),g=T(!0),V=T(a.crossorigin),y=T(a.initialIndex),k=Ue(l.CONTAIN),d=T({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),P=_(()=>{const{urlList:o}=a;return o.length<=1}),z=_(()=>y.value===0),X=_(()=>y.value===a.urlList.length-1),J=_(()=>a.urlList[y.value]),Q=_(()=>[c.e("btn"),c.e("prev"),c.is("disabled",!a.infinite&&z.value)]),H=_(()=>[c.e("btn"),c.e("next"),c.is("disabled",!a.infinite&&X.value)]),u=_(()=>{const{scale:o,deg:i,offsetX:m,offsetY:N,enableTransition:R}=d.value;let E=m/o,O=N/o;switch(i%360){case 90:case-270:[E,O]=[O,-E];break;case 180:case-180:[E,O]=[-E,-O];break;case 270:case-90:[E,O]=[-O,E];break}const Z={transform:`scale(${o}) rotate(${i}deg) translate(${E}px, ${O}px)`,transition:R?"transform .3s":""};return k.value.name===l.CONTAIN.name&&(Z.maxWidth=Z.maxHeight="100%"),Z}),x=_(()=>ue(a.zIndex)?a.zIndex:p());function C(){me(),t("close")}function j(){const o=pe(m=>{switch(m.code){case q.esc:a.closeOnPressEscape&&C();break;case q.space:oe();break;case q.left:ie();break;case q.up:r("zoomIn");break;case q.right:le();break;case q.down:r("zoomOut");break}}),i=pe(m=>{const N=m.deltaY||m.deltaX;r(N<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});$.run(()=>{U(document,"keydown",o),U(document,"wheel",i)})}function me(){$.stop()}function ae(){g.value=!1}function se(o){g.value=!1,o.target.alt=f("el.image.error")}function re(o){if(g.value||o.button!==0||!b.value)return;d.value.enableTransition=!1;const{offsetX:i,offsetY:m}=d.value,N=o.pageX,R=o.pageY,E=pe(Z=>{d.value={...d.value,offsetX:i+Z.pageX-N,offsetY:m+Z.pageY-R}}),O=U(document,"mousemove",E);U(document,"mouseup",()=>{O()}),o.preventDefault()}function ee(){d.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function oe(){if(g.value)return;const o=Xe(l),i=Object.values(l),m=k.value.name,R=(i.findIndex(E=>E.name===m)+1)%o.length;k.value=l[o[R]],ee()}function te(o){const i=a.urlList.length;y.value=(o+i)%i}function ie(){z.value&&!a.infinite||te(y.value-1)}function le(){X.value&&!a.infinite||te(y.value+1)}function r(o,i={}){if(g.value)return;const{minScale:m,maxScale:N}=a,{zoomRate:R,rotateDeg:E,enableTransition:O}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...i};switch(o){case"zoomOut":d.value.scale>m&&(d.value.scale=Number.parseFloat((d.value.scale/R).toFixed(3)));break;case"zoomIn":d.value.scale<N&&(d.value.scale=Number.parseFloat((d.value.scale*R).toFixed(3)));break;case"clockwise":d.value.deg+=E,t("rotate",d.value.deg);break;case"anticlockwise":d.value.deg-=E,t("rotate",d.value.deg);break}d.value.enableTransition=O}return ge(J,()=>{Se(()=>{const o=A.value[0];o!=null&&o.complete||(g.value=!0)})}),ge(y,o=>{ee(),t("switch",o)}),xe(()=>{var o,i;j(),(i=(o=b.value)==null?void 0:o.focus)==null||i.call(o)}),s({setActiveItem:te}),(o,i)=>(h(),_e(at,{to:"body",disabled:!o.teleported},[w(nt,{name:"viewer-fade",appear:""},{default:B(()=>[L("div",{ref_key:"wrapper",ref:b,tabindex:-1,class:v(n(c).e("wrapper")),style:G({zIndex:n(x)})},[L("div",{class:v(n(c).e("mask")),onClick:i[0]||(i[0]=Ge(m=>o.hideOnClickModal&&C(),["self"]))},null,2),M(" CLOSE "),L("span",{class:v([n(c).e("btn"),n(c).e("close")]),onClick:C},[w(n(D),null,{default:B(()=>[w(n(Me))]),_:1})],2),M(" ARROW "),n(P)?M("v-if",!0):(h(),I(de,{key:0},[L("span",{class:v(n(Q)),onClick:ie},[w(n(D),null,{default:B(()=>[w(n(Ve))]),_:1})],2),L("span",{class:v(n(H)),onClick:le},[w(n(D),null,{default:B(()=>[w(n(He))]),_:1})],2)],64)),M(" ACTIONS "),L("div",{class:v([n(c).e("btn"),n(c).e("actions")])},[L("div",{class:v(n(c).e("actions__inner"))},[w(n(D),{onClick:i[1]||(i[1]=m=>r("zoomOut"))},{default:B(()=>[w(n(Fe))]),_:1}),w(n(D),{onClick:i[2]||(i[2]=m=>r("zoomIn"))},{default:B(()=>[w(n(Pe))]),_:1}),L("i",{class:v(n(c).e("actions__divider"))},null,2),w(n(D),{onClick:oe},{default:B(()=>[(h(),_e(Je(n(k).icon)))]),_:1}),L("i",{class:v(n(c).e("actions__divider"))},null,2),w(n(D),{onClick:i[3]||(i[3]=m=>r("anticlockwise"))},{default:B(()=>[w(n(De))]),_:1}),w(n(D),{onClick:i[4]||(i[4]=m=>r("clockwise"))},{default:B(()=>[w(n(We))]),_:1})],2)],2),M(" CANVAS "),L("div",{class:v(n(c).e("canvas"))},[(h(!0),I(de,null,Qe(o.urlList,(m,N)=>et((h(),I("img",{ref_for:!0,ref:R=>A.value[N]=R,key:m,src:m,style:G(n(u)),class:v(n(c).e("img")),crossorigin:V.value,onLoad:ae,onError:se,onMousedown:re},null,46,Vt)),[[tt,N===y.value]])),128))],2),F(o.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Pt=Y(Ft,[["__file","image-viewer.vue"]]);const Dt=he(Pt),Wt=ke({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ne([String,Object])},previewSrcList:{type:ne(Array),default:()=>Ie([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ne(String),default:"anonymous"}}),Xt={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>ue(e),close:()=>!0,show:()=>!0},Yt=["src","loading","crossorigin"],Kt={key:0},jt=S({name:"ElImage",inheritAttrs:!1}),Zt=S({...jt,props:Wt,emits:Xt,setup(e,{emit:s}){const t=e;let a="";const{t:l}=Ee(),f=K("image"),c=st(),p=Ye(),b=T(),A=T(t.crossorigin),$=T(!1),g=T(!0),V=T(!1),y=T(),k=T(),d=W&&"loading"in HTMLImageElement.prototype;let P,z;const X=_(()=>[f.e("inner"),H.value&&f.e("preview"),g.value&&f.is("loading")]),J=_(()=>c.style),Q=_(()=>{const{fit:r}=t;return W&&r?{objectFit:r}:{}}),H=_(()=>{const{previewSrcList:r}=t;return Array.isArray(r)&&r.length>0}),u=_(()=>{const{previewSrcList:r,initialIndex:o}=t;let i=o;return o>r.length-1&&(i=0),i}),x=_(()=>t.loading==="eager"?!1:!d&&t.loading==="lazy"||t.lazy),C=()=>{W&&(g.value=!0,$.value=!1,b.value=t.src)};function j(r){g.value=!1,$.value=!1,s("load",r)}function me(r){g.value=!1,$.value=!0,s("error",r)}function ae(){ct(y.value,k.value)&&(C(),ee())}const se=Ke(ae,200,!0);async function re(){var r;if(!W)return;await Se();const{scrollContainer:o}=t;je(o)?k.value=o:it(o)&&o!==""?k.value=(r=document.querySelector(o))!=null?r:void 0:y.value&&(k.value=Et(y.value)),k.value&&(P=U(k,"scroll",se),setTimeout(()=>ae(),100))}function ee(){!W||!k.value||!se||(P==null||P(),k.value=void 0)}function oe(r){if(r.ctrlKey){if(r.deltaY<0)return r.preventDefault(),!1;if(r.deltaY>0)return r.preventDefault(),!1}}function te(){H.value&&(z=U("wheel",oe,{passive:!1}),a=document.body.style.overflow,document.body.style.overflow="hidden",V.value=!0,s("show"))}function ie(){z==null||z(),document.body.style.overflow=a,V.value=!1,s("close")}function le(r){s("switch",r)}return ge(()=>t.src,()=>{x.value?(g.value=!0,$.value=!1,ee(),re()):C()}),xe(()=>{x.value?re():C()}),(r,o)=>(h(),I("div",{ref_key:"container",ref:y,class:v([n(f).b(),r.$attrs.class]),style:G(n(J))},[$.value?F(r.$slots,"error",{key:0},()=>[L("div",{class:v(n(f).e("error"))},rt(n(l)("el.image.error")),3)]):(h(),I(de,{key:1},[b.value!==void 0?(h(),I("img",ot({key:0},n(p),{src:b.value,loading:r.loading,style:n(Q),class:n(X),crossorigin:A.value,onClick:te,onLoad:j,onError:me}),null,16,Yt)):M("v-if",!0),g.value?(h(),I("div",{key:1,class:v(n(f).e("wrapper"))},[F(r.$slots,"placeholder",{},()=>[L("div",{class:v(n(f).e("placeholder"))},null,2)])],2)):M("v-if",!0)],64)),n(H)?(h(),I(de,{key:2},[V.value?(h(),_e(n(Dt),{key:0,"z-index":r.zIndex,"initial-index":n(u),infinite:r.infinite,"zoom-rate":r.zoomRate,"min-scale":r.minScale,"max-scale":r.maxScale,"url-list":r.previewSrcList,"hide-on-click-modal":r.hideOnClickModal,teleported:r.previewTeleported,"close-on-press-escape":r.closeOnPressEscape,onClose:ie,onSwitch:le},{default:B(()=>[r.$slots.viewer?(h(),I("div",Kt,[F(r.$slots,"viewer")])):M("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):M("v-if",!0)],64)):M("v-if",!0)],6))}});var qt=Y(Zt,[["__file","image.vue"]]);const Ut=he(qt),Gt=L("span",{class:"ml-3 font-bold text-2xl"},"KoalAPI",-1),Jt={__name:"Logo",props:{url:{type:String,required:!0}},setup(e){const s=e;return(t,a)=>{const l=Ut;return h(),I("div",{class:"logo",onClick:a[0]||(a[0]=()=>("navigateTo"in t?t.navigateTo:n(lt))(s.url))},[w(l,{src:"/PortfolioKoalapi/images/logo.png",class:"hover:cursor-pointer logoInHeader"}),Gt])}}},rn=Jt;export{tn as E,rn as _,Ut as a,an as b,nn as c,sn as d,Et as g};
